{
  "policyVersion": "1.0.0",
  "decisionId": "D-3",
  "approvedOn": "2026-02-16",
  "defaultMode": "exact_text",
  "matchStrategy": "first_match",
  "comparisonRule": {
    "type": "abs_or_rel",
    "expression": "abs(actual-baseline)<=absTol || abs(actual-baseline)<=relTol*max(abs(baseline),relativeFloor)"
  },
  "numericParsing": {
    "trimWhitespace": true,
    "collapseWhitespace": true,
    "skipEmptyLines": true,
    "commentPrefixes": [
      "#",
      "!"
    ],
    "fortranExponentMarkers": [
      "D",
      "d"
    ],
    "failOnNaNOrInfMismatch": true
  },
  "categories": [
    {
      "id": "diagnostic_logs",
      "description": "Human-facing warnings and diagnostic logs must stay text-stable.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/*.log",
        "**/*.err",
        "**/warnings*.txt"
      ]
    },
    {
      "id": "columnar_spectra",
      "description": "Primary spectral outputs for XANES/EXAFS/EELS/DANES/COMPTON/RIXS flows.",
      "mode": "numeric_tolerance",
      "fileGlobs": [
        "**/xmu.dat",
        "**/chi.dat",
        "**/danes.dat",
        "**/eels.dat",
        "**/compton.dat",
        "**/rixs*.dat"
      ],
      "tolerance": {
        "absTol": 1e-8,
        "relTol": 1e-6,
        "relativeFloor": 1e-12
      }
    },
    {
      "id": "density_tables",
      "description": "LDOS and related density tables generated by LDOS/SELF/BAND-adjacent workflows.",
      "mode": "numeric_tolerance",
      "fileGlobs": [
        "**/ldos*.dat",
        "**/rho*.dat"
      ],
      "tolerance": {
        "absTol": 5e-8,
        "relTol": 5e-6,
        "relativeFloor": 1e-12
      }
    },
    {
      "id": "pot_diagnostic_tables",
      "description": "POT diagnostic tables with mixed text headers and numeric rows.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/pot.dat"
      ]
    },
    {
      "id": "pot_convergence_reports",
      "description": "POT convergence traces with mixed text headers and numeric iteration rows.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/convergence.scf",
        "**/convergence.scf.fine"
      ]
    },
    {
      "id": "screen_crpa_wscrn_tables",
      "description": "SCREEN/CRPA radial screening tables require tolerance-based numeric comparison.",
      "mode": "numeric_tolerance",
      "fileGlobs": [
        "**/wscrn.dat"
      ],
      "tolerance": {
        "absTol": 1e-8,
        "relTol": 1e-6,
        "relativeFloor": 1e-12
      }
    },
    {
      "id": "screen_crpa_diagnostic_reports",
      "description": "SCREEN/CRPA diagnostic text reports must remain deterministic.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/logscreen.dat",
        "**/logscrn.dat"
      ]
    },
    {
      "id": "xsph_phase_binary",
      "description": "XSPH phase binary snapshots should remain byte-stable for fixture parity checks.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/phase.bin"
      ]
    },
    {
      "id": "xsph_cross_section_numeric",
      "description": "XSPH cross-section tables should remain numerically stable within policy tolerances.",
      "mode": "numeric_tolerance",
      "fileGlobs": [
        "**/xsect.dat"
      ],
      "tolerance": {
        "absTol": 1e-8,
        "relTol": 1e-6,
        "relativeFloor": 1e-12
      }
    },
    {
      "id": "xsph_runtime_reports",
      "description": "XSPH runtime diagnostic reports should remain deterministic for regression fixtures.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/log2.dat"
      ]
    },
    {
      "id": "path_listing_reports",
      "description": "PATH listing reports contain non-numeric headers and must remain text-stable.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/paths.dat"
      ]
    },
    {
      "id": "path_scattering_tables",
      "description": "Path-resolved scattering artifacts from PATH/FMS/XSPH flows.",
      "mode": "numeric_tolerance",
      "fileGlobs": [
        "**/feff*.dat",
        "**/path*.dat"
      ],
      "tolerance": {
        "absTol": 1e-7,
        "relTol": 1e-5,
        "relativeFloor": 1e-12
      }
    },
    {
      "id": "thermal_workflow_tables",
      "description": "Thermal and Debye/DMDW workflows with larger accepted numeric drift.",
      "mode": "numeric_tolerance",
      "fileGlobs": [
        "**/*.dmdw.out",
        "**/debye*.dat",
        "**/sig*.dat"
      ],
      "tolerance": {
        "absTol": 1e-6,
        "relTol": 1e-4,
        "relativeFloor": 1e-12
      }
    },
    {
      "id": "structured_reports",
      "description": "Structured report artifacts where deterministic text serialization is required.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/*.json",
        "**/*.toml"
      ]
    }
  ]
}
