{
  "policyVersion": "1.0.0",
  "decisionId": "D-3",
  "approvedOn": "2026-02-16",
  "defaultMode": "exact_text",
  "matchStrategy": "first_match",
  "comparisonRule": {
    "type": "abs_or_rel",
    "expression": "abs(actual-baseline)<=absTol || abs(actual-baseline)<=relTol*max(abs(baseline),relativeFloor)"
  },
  "numericParsing": {
    "trimWhitespace": true,
    "collapseWhitespace": true,
    "skipEmptyLines": true,
    "commentPrefixes": [
      "#",
      "!"
    ],
    "fortranExponentMarkers": [
      "D",
      "d"
    ],
    "failOnNaNOrInfMismatch": true
  },
  "categories": [
    {
      "id": "diagnostic_logs",
      "description": "Human-facing warnings and diagnostic logs must stay text-stable.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/*.log",
        "**/*.err",
        "**/warnings*.txt"
      ]
    },
    {
      "id": "self_contract_outputs",
      "description": "SELF output contract artifacts remain exact-text stable, including sigma outputs that would otherwise match thermal wildcards.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/selfenergy.dat",
        "**/sigma.dat",
        "**/specfunct.dat",
        "**/loss.dat",
        "**/mpse.dat",
        "**/opconsCu.dat",
        "**/sig2FEFF.dat",
        "**/logsfconv.dat"
      ]
    },
    {
      "id": "fullspectrum_contract_outputs",
      "description": "FULLSPECTRUM artifact-specific tables and diagnostics must stay exact-text stable.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/osc_str.dat",
        "**/eps.dat",
        "**/drude.dat",
        "**/background.dat",
        "**/fine_st.dat",
        "**/logfullspectrum.dat"
      ]
    },
    {
      "id": "rixs_contract_exact_outputs",
      "description": "RIXS non-table contract artifacts remain exact-text stable.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/logrixs.dat",
        "**/rixs.sh"
      ]
    },
    {
      "id": "rixs_contract_tables",
      "description": "RIXS table outputs use strict numeric tolerance via artifact-scoped mappings.",
      "mode": "numeric_tolerance",
      "fileGlobs": [
        "**/rixs0.dat",
        "**/rixs1.dat",
        "**/rixsET.dat",
        "**/rixsEE.dat",
        "**/rixsET-sat.dat",
        "**/rixsEE-sat.dat"
      ],
      "tolerance": {
        "absTol": 1e-8,
        "relTol": 1e-6,
        "relativeFloor": 1e-12
      }
    },
    {
      "id": "columnar_spectra",
      "description": "Primary spectral outputs for XANES/EXAFS/EELS/DANES/COMPTON flows.",
      "mode": "numeric_tolerance",
      "fileGlobs": [
        "**/xmu.dat",
        "**/chi.dat",
        "**/danes.dat",
        "**/eels.dat",
        "**/compton.dat"
      ],
      "tolerance": {
        "absTol": 1e-8,
        "relTol": 1e-6,
        "relativeFloor": 1e-12
      }
    },
    {
      "id": "density_tables",
      "description": "LDOS and related density tables generated by LDOS/SELF/BAND-adjacent workflows.",
      "mode": "numeric_tolerance",
      "fileGlobs": [
        "**/ldos*.dat",
        "**/rho*.dat"
      ],
      "tolerance": {
        "absTol": 5e-8,
        "relTol": 5e-6,
        "relativeFloor": 1e-12
      }
    },
    {
      "id": "path_listing_reports",
      "description": "PATH listing reports contain non-numeric headers and must remain text-stable.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/paths.dat"
      ]
    },
    {
      "id": "path_scattering_tables",
      "description": "Path-resolved scattering artifacts from PATH/FMS/XSPH flows.",
      "mode": "numeric_tolerance",
      "fileGlobs": [
        "**/feff*.dat",
        "**/path*.dat"
      ],
      "tolerance": {
        "absTol": 1e-7,
        "relTol": 1e-5,
        "relativeFloor": 1e-12
      }
    },
    {
      "id": "thermal_workflow_tables",
      "description": "Thermal and Debye/DMDW workflows with larger accepted numeric drift.",
      "mode": "numeric_tolerance",
      "fileGlobs": [
        "**/*.dmdw.out",
        "**/debye*.dat",
        "**/sig*.dat"
      ],
      "tolerance": {
        "absTol": 1e-6,
        "relTol": 1e-4,
        "relativeFloor": 1e-12
      }
    },
    {
      "id": "structured_reports",
      "description": "Structured report artifacts where deterministic text serialization is required.",
      "mode": "exact_text",
      "fileGlobs": [
        "**/*.json",
        "**/*.toml"
      ]
    }
  ]
}
